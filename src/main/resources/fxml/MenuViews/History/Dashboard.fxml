<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="800.0" prefWidth="1200.0"
            xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.pranav.temple_software.controllers.menuControllers.History.DashboardController">

    <!-- Top Section - Title and Filters -->
    <top>
        <VBox spacing="20" style="-fx-padding: 20;">
            <!-- Title -->
            <Label text="ಸೇವಾ/ದೇಣಿಗೆ ಡ್ಯಾಶ್‌ಬೋರ್ಡ್"
                   style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"
                   alignment="CENTER" maxWidth="Infinity"/>

            <!-- Filter Section -->
            <GridPane hgap="15" vgap="15" style="-fx-padding: 20; -fx-background-color: #f8f9fa; -fx-border-color: #dee2e6; -fx-border-radius: 8;">
                <columnConstraints>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="120"/>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="180"/>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="120"/>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="180"/>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="120"/>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="180"/>
                </columnConstraints>
                <rowConstraints>
                    <RowConstraints minHeight="40"/>
                    <RowConstraints minHeight="40"/>
                    <RowConstraints minHeight="40"/>
                </rowConstraints>

                <!-- Row 1 -->
                <Label text="ಪ್ರಕಾರ:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <ComboBox fx:id="typeComboBox" prefWidth="180" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                <Label text="ಐಟಂ:" style="-fx-font-weight: bold;" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                <ComboBox fx:id="itemComboBox" prefWidth="180" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                <Label text="ಪಾವತಿ ವಿಧಾನ:" style="-fx-font-weight: bold;" GridPane.columnIndex="4" GridPane.rowIndex="0"/>
                <ComboBox fx:id="paymentModeComboBox" prefWidth="180" GridPane.columnIndex="5" GridPane.rowIndex="0"/>

                <!-- Row 2 -->
                <Label text="ಪ್ರಾರಂಭ ದಿನಾಂಕ:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                <DatePicker fx:id="fromDatePicker" prefWidth="180" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                <Label text="ಅಂತಿಮ ದಿನಾಂಕ:" style="-fx-font-weight: bold;" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                <DatePicker fx:id="toDatePicker" prefWidth="180" GridPane.columnIndex="3" GridPane.rowIndex="1"/>

                <Label text="ತಿಂಗಳು:" style="-fx-font-weight: bold;" GridPane.columnIndex="4" GridPane.rowIndex="1"/>
                <ComboBox fx:id="monthComboBox" prefWidth="180" GridPane.columnIndex="5" GridPane.rowIndex="1"/>

                <!-- Row 3 -->
                <Label text="ವರ್ಷ:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                <ComboBox fx:id="yearComboBox" prefWidth="180" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                <!-- Buttons -->
                <HBox spacing="10" alignment="CENTER_LEFT" GridPane.columnIndex="2" GridPane.columnSpan="4" GridPane.rowIndex="2">
                    <Button fx:id="generateReportButton" text="ವರದಿ ರಚಿಸಿ"
                            style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 16;"/>
                    <Button fx:id="clearFiltersButton" text="ಫಿಲ್ಟರ್‌ಗಳನ್ನು ತೆರವುಮಾಡಿ"
                            style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 16;"/>
                </HBox>
            </GridPane>
        </VBox>
    </top>

    <!-- Center Section - Data Table -->
    <center>
        <VBox spacing="10" style="-fx-padding: 0 20 20 20;">
            <!-- Summary Labels -->
            <HBox spacing="30" alignment="CENTER_LEFT" style="-fx-padding: 10; -fx-background-color: #e9ecef; -fx-border-radius: 4;">
                <Label fx:id="totalRecordsLabel" text="ಒಟ್ಟು ದಾಖಲೆಗಳು: 0"
                       style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #495057;"/>
                <Label fx:id="totalAmountLabel" text="ಒಟ್ಟು ಮೊತ್ತ: ₹0.00"
                       style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #28a745;"/>
            </HBox>

            <!-- Data Table -->
            <TableView fx:id="dashboardTable" style="-fx-border-color: #dee2e6;">
                <columns>
                    <TableColumn fx:id="itemNameColumn" text="ಹೆಸರು" prefWidth="200" style="-fx-alignment: CENTER-LEFT;"/>
                    <TableColumn fx:id="itemTypeColumn" text="ಪ್ರಕಾರ" prefWidth="120" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="totalCountColumn" text="ಒಟ್ಟು ಸಂಖ್ಯೆ" prefWidth="100" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="cashCountColumn" text="ನಗದು" prefWidth="80" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="onlineCountColumn" text="ಆನ್‌ಲೈನ್" prefWidth="80" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="totalAmountColumn" text="ಒಟ್ಟು ಮೊತ್ತ" prefWidth="120" style="-fx-alignment: CENTER-RIGHT;"/>
                </columns>
            </TableView>
        </VBox>
    </center>

    <!-- Bottom Section - Close Button -->
    <bottom>
        <HBox alignment="CENTER" style="-fx-padding: 20;">
            <Button text="ಮುಚ್ಚಿ" onAction="#closeWindow"
                    style="-fx-background-color: #dc3545; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-font-size: 14px;"/>
        </HBox>
    </bottom>
</BorderPane>
